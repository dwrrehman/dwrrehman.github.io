<!DOCTYPE html>
<html>
	<head>
		<title>
			ET
		</title>
	</head>
	<body>
		<h4 align="center" style="font-family:courier;">
			{ergotype}
		</h4>

		<div align="center">
			<textarea id="tb" rows="30" cols="100" placeholder="{typehere}" ></textarea>
		<div>
			<textarea id="tb2" disabled>

			</textarea>
		<script>

var tb = document.getElementById('tb'); 
var tb2 = document.getElementById('tb2'); 
var processedLength = 0; 
var pairEntered = true;
var specialKeys = [8, 9, 13, 16, 17, 18, 19, 20, 27, 33, 34, 35, 36, 37, 38, 39, 40, 45, 46];

	tb.onkeyup = function (e) 
		{
		if (specialKeys.indexOf(e.keyCode) < 0) 
			{
			tb2.value += e.key; pairEntered = !pairEntered; 

		if (pairEntered && this.value.length) 
			{
			var nextTwoChars = this.value.substr(this.value.length - 2, 2);
			var prevPart = this.value.substr(0, this.value.length - 2);
			var finalText = prevPart + replacePair(nextTwoChars);

				this.value = finalText; processedLength += 2;
			}
			}
		}

	function replacePair(str) 
		{
		var mapping = 
			{
"AJ": "b",
"JA": "b",
"AK": "g",
"KA": "g",

"AL": "'",
"LA": "'",
"A;": ".",
";A": ".",

"SJ": "p",
"JS": "p",
"SK": "k",
"KS": "k",

"SL": ",",
"LS": ",",
"S;": ";",
";S": ";",

"DJ": "u",
"JD": "u",
"DK": "a",
"KD": "a",

"DL": "t",
"LD": "t",
"D;": "d",
";D": "d",

"FJ": " ",
"JF": " ",
"FK": "i",
"KF": "i",

"FL": "m",
"LF": "m",
"F;": "n",
";F": "n",

"AS": "r",
"SA": "r",
"SD": "z",
"DS": "z",
"DF": "e",
"FD": "e",
"JK": "o",
"KJ": "o",
"KL": "j",
"LK": "j",
"L;": "v",
";L": "v",

"AD": "l",
"DA": "l",
"SF": "s",
"FS": "s",
"AF": "",
"FA": "",
"JL": "c",
"LJ": "c",
"K;": "f",
";K": "f",
"J;": "",
";J": "",
			}; 
return mapping[str.toUpperCase()] || str;
		}
document.getElementById("tb2").style.visibility="hidden";

</script>

<br>
<a href="ET.cheatsheet.html" align="center" style="font-family:courier; font-size:80%; color:gray;">{cheatsheet}</a>

	</body>
</html>


			
